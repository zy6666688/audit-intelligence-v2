# V3èŠ‚ç‚¹ç³»ç»Ÿä½¿ç”¨æ‰‹å†Œ

**ç‰ˆæœ¬**: 1.0.0  
**æ›´æ–°æ—¶é—´**: 2025-12-02

---

## ğŸ“š ç›®å½•

1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
3. [èŠ‚ç‚¹åˆ†ç±»](#èŠ‚ç‚¹åˆ†ç±»)
4. [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
5. [é…ç½®æŒ‡å—](#é…ç½®æŒ‡å—)
6. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
7. [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)

---

## ç³»ç»Ÿæ¦‚è¿°

### æ¶æ„è®¾è®¡

V3èŠ‚ç‚¹ç³»ç»Ÿæ˜¯ä¸€ä¸ªæ¨¡å—åŒ–ã€å¯æ‰©å±•çš„å®¡è®¡æ•°æ®å¤„ç†å¹³å°ï¼Œçµæ„Ÿæ¥è‡ªComfyUIå’ŒBlender Geometry Nodesã€‚

**æ ¸å¿ƒç‰¹æ€§**:
- ğŸ”Œ **æ’ä»¶åŒ–**: æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç‹¬ç«‹çš„å¤„ç†å•å…ƒ
- ğŸ”— **å¯ç»„åˆ**: èŠ‚ç‚¹å¯ä»¥ä»»æ„ç»„åˆæˆå¤„ç†æµç¨‹
- ğŸ“Š **å¼ºç±»å‹**: å®Œæ•´çš„TypeScriptç±»å‹ç³»ç»Ÿ
- ğŸ¯ **ä¸“ä¸šåŒ–**: ä¸“ä¸ºå®¡è®¡ä¸šåŠ¡è®¾è®¡
- ğŸš€ **é«˜æ€§èƒ½**: æ”¯æŒç¼“å­˜ã€å¹¶è¡Œã€æµå¼å¤„ç†

### æ•°æ®ç±»å‹ç³»ç»Ÿ

**9ç§æ ¸å¿ƒæ•°æ®ç±»å‹**:
1. **Records** - åŸå§‹è®°å½•é›†
2. **Ledger** - è´¦ç°¿æ•°æ®
3. **Vouchers** - å‡­è¯é›†
4. **Invoices** - å‘ç¥¨é›†
5. **BankFlow** - é“¶è¡Œæµæ°´
6. **RiskSet** - é£é™©é›†åˆ
7. **Evidence** - è¯æ®é“¾
8. **DraftPage** - åº•ç¨¿é¡µé¢
9. **ReportSection** - æŠ¥å‘Šç« èŠ‚

---

## å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–èŠ‚ç‚¹ç³»ç»Ÿ

```typescript
import { initializeV3Nodes } from './nodes/v3';

// åˆå§‹åŒ–æ‰€æœ‰èŠ‚ç‚¹
const registry = initializeV3Nodes();
// âœ… V3 Nodes initialized: 13 nodes registered

// æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
const stats = registry.getStats();
console.log(stats);
```

### 2. è·å–èŠ‚ç‚¹

```typescript
// æŒ‰ç±»å‹è·å–èŠ‚ç‚¹
const node = registry.getNode('input.records');

// æŒ‰åˆ†ç±»è·å–
const inputNodes = registry.getNodesByCategory('input');

// æœç´¢èŠ‚ç‚¹
const results = registry.searchNodes('å‘ç¥¨');
```

### 3. æ‰§è¡ŒèŠ‚ç‚¹

```typescript
// åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡
const context = {
  nodeId: 'node-001',
  executionId: 'exec-001',
  userId: 'user-001',
  logger: console
};

// æ‰§è¡ŒèŠ‚ç‚¹
const result = await node.execute(
  inputs,      // è¾“å…¥æ•°æ®
  config,      // é…ç½®
  context      // ä¸Šä¸‹æ–‡
);

// æ£€æŸ¥ç»“æœ
if (result.success) {
  console.log('âœ… Success:', result.outputs);
} else {
  console.error('âŒ Error:', result.error);
}
```

---

## èŠ‚ç‚¹åˆ†ç±»

### è¾“å…¥èŠ‚ç‚¹ï¼ˆ5ä¸ªï¼‰

#### 1. RecordsInputNode
**ç±»å‹**: `input.records`  
**ç”¨é€”**: é€šç”¨CSV/Excelæ•°æ®å¯¼å…¥

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  data: [
    { name: 'John', age: 30, salary: 50000 }
  ],
  autoDetectTypes: true,  // è‡ªåŠ¨æ£€æµ‹å­—æ®µç±»å‹
  validateData: true       // éªŒè¯æ•°æ®
}
```

#### 2. VoucherInputNode
**ç±»å‹**: `input.voucher`  
**ç”¨é€”**: ä¼šè®¡å‡­è¯å¯¼å…¥

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  data: [
    {
      voucher_no: 'V001',
      date: '2025-01-01',
      debit_amount: 10000,
      credit_amount: 10000,
      description: 'é”€å”®æ”¶å…¥'
    }
  ],
  source: 'csv',
  validateBalance: true,    // éªŒè¯å€Ÿè´·å¹³è¡¡
  checkAttachments: true,   // æ£€æŸ¥é™„ä»¶
  checkApproval: true       // æ£€æŸ¥å®¡æ‰¹
}
```

#### 3. ContractInputNode
**ç±»å‹**: `input.contract`  
**ç”¨é€”**: åˆåŒæ–‡æ¡£å¯¼å…¥

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  data: [
    {
      file_path: '/path/to/contract.pdf',
      contract_no: 'C001'
    }
  ],
  source: 'pdf',
  extractText: true,         // æå–æ–‡æœ¬
  recognizeElements: true,   // è¯†åˆ«åˆåŒè¦ç´ 
  detectRisks: true         // æ£€æµ‹é£é™©æ¡æ¬¾
}
```

#### 4. BankFlowInputNode
**ç±»å‹**: `input.bankflow`  
**ç”¨é€”**: é“¶è¡Œæµæ°´å¯¼å…¥

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  data: [
    {
      date: '2025-01-01',
      from_account: '6222021234567890',
      to_account: '6222029876543210',
      amount: 10000,
      description: 'è´§æ¬¾'
    }
  ],
  bankType: 'icbc',              // é“¶è¡Œç±»å‹
  categorizeTransactions: true,  // äº¤æ˜“åˆ†ç±»
  detectAnomalies: true         // å¼‚å¸¸æ£€æµ‹
}
```

#### 5. InvoiceInputNode
**ç±»å‹**: `input.invoice`  
**ç”¨é€”**: å‘ç¥¨æ•°æ®å¯¼å…¥

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  data: [
    {
      invoice_no: '12345678',
      amount: 10000,
      tax_rate: 0.13,
      tax: 1300,
      total: 11300
    }
  ],
  source: 'csv',
  validateFormat: true,   // éªŒè¯æ ¼å¼
  detectDuplicates: true, // æ£€æµ‹é‡å¤
  verifyTax: true        // éªŒè¯ç¨é¢
}
```

---

### é¢„å¤„ç†èŠ‚ç‚¹ï¼ˆ4ä¸ªï¼‰

#### 6. OCRExtractNode
**ç±»å‹**: `preprocess.ocr_extract`  
**ç”¨é€”**: OCRæ–‡æœ¬æå–

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  provider: 'aliyun',      // OCRæœåŠ¡å•†
  language: 'zh',          // è¯­è¨€
  minConfidence: 0.8,      // æœ€å°ç½®ä¿¡åº¦
  enableCache: true,       // å¯ç”¨ç¼“å­˜
  batchSize: 10           // æ‰¹å¤„ç†å¤§å°
}
```

**æ”¯æŒçš„æœåŠ¡å•†**:
- `aliyun` - é˜¿é‡Œäº‘OCR
- `baidu` - ç™¾åº¦OCR
- `tencent` - è…¾è®¯äº‘OCR
- `azure` - Azure Computer Vision
- `google` - Google Cloud Vision

#### 7. FieldMapperNode
**ç±»å‹**: `preprocess.field_mapper`  
**ç”¨é€”**: å­—æ®µæ˜ å°„å’Œè½¬æ¢

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  mappings: [
    {
      sourceField: 'old_name',
      targetField: 'new_name',
      targetType: 'string',
      transform: 'uppercase'
    },
    {
      sourceField: 'salary',
      targetField: 'after_tax',
      formula: 'salary * (1 - tax_rate)'
    }
  ],
  keepUnmapped: true,    // ä¿ç•™æœªæ˜ å°„å­—æ®µ
  strictMode: false      // ä¸¥æ ¼æ¨¡å¼
}
```

**æ”¯æŒçš„è½¬æ¢å‡½æ•°**:
- `uppercase` - è½¬å¤§å†™
- `lowercase` - è½¬å°å†™
- `trim` - å»ç©ºæ ¼
- `abs` - ç»å¯¹å€¼
- `round` - å››èˆäº”å…¥
- `floor` - å‘ä¸‹å–æ•´
- `ceil` - å‘ä¸Šå–æ•´

#### 8. NormalizeDataNode
**ç±»å‹**: `preprocess.normalize`  
**ç”¨é€”**: æ•°æ®æ ‡å‡†åŒ–

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  dateFormat: 'YYYY-MM-DD',    // æ—¥æœŸæ ¼å¼
  amountUnit: 'yuan',          // é‡‘é¢å•ä½
  trimStrings: true,           // å»é™¤ç©ºæ ¼
  removeEmptyRows: true,       // ç§»é™¤ç©ºè¡Œ
  fillNullValues: false        // å¡«å……ç©ºå€¼
}
```

#### 9. DeduplicateNode
**ç±»å‹**: `preprocess.deduplicate`  
**ç”¨é€”**: æ•°æ®å»é‡

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  method: 'exact',             // å»é‡æ–¹æ³•
  fields: ['email'],           // å»é‡å­—æ®µ
  keepStrategy: 'first',       // ä¿ç•™ç­–ç•¥
  fuzzyThreshold: 0.8,         // æ¨¡ç³Šé˜ˆå€¼
  caseSensitive: false,        // å¤§å°å†™æ•æ„Ÿ
  ignoreWhitespace: true       // å¿½ç•¥ç©ºæ ¼
}
```

**å»é‡æ–¹æ³•**:
- `exact` - ç²¾ç¡®åŒ¹é…
- `fuzzy` - æ¨¡ç³ŠåŒ¹é…
- `hash` - å“ˆå¸ŒåŒ¹é…
- `composite` - å­—æ®µç»„åˆ

**ä¿ç•™ç­–ç•¥**:
- `first` - ä¿ç•™é¦–æ¬¡å‡ºç°
- `last` - ä¿ç•™æœ€åå‡ºç°
- `best` - ä¿ç•™æœ€å®Œæ•´çš„è®°å½•

---

### å®¡è®¡èŠ‚ç‚¹ï¼ˆ2ä¸ªï¼‰

#### 10. ThreeDocMatchNode
**ç±»å‹**: `audit.three_doc_match`  
**ç”¨é€”**: ä¸‰å•åŒ¹é…ï¼ˆè®¢å•ã€å‘è´§å•ã€å‘ç¥¨ï¼‰

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  amountTolerance: 0.01,      // é‡‘é¢å®¹å·®(1%)
  dateToleranceDays: 7,       // æ—¥æœŸå®¹å·®(7å¤©)
  requireAllThree: false      // æ˜¯å¦è¦æ±‚ä¸‰å•é½å…¨
}
```

#### 11. FundLoopDetectNode
**ç±»å‹**: `audit.fund_loop_detect`  
**ç”¨é€”**: èµ„é‡‘å¾ªç¯æ£€æµ‹

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  maxLoopLength: 10,          // æœ€å¤§å¾ªç¯é•¿åº¦
  minLoopAmount: 10000,       // æœ€å°å¾ªç¯é‡‘é¢
  timeWindowDays: 30          // æ—¶é—´çª—å£
}
```

---

### AIèŠ‚ç‚¹ï¼ˆ1ä¸ªï¼‰

#### 12. AIFraudScorerNode
**ç±»å‹**: `ai.fraud_scorer`  
**ç”¨é€”**: AIèˆå¼Šè¯„åˆ†

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  model: 'gpt-4',             // AIæ¨¡å‹
  threshold: 0.7,             // é£é™©é˜ˆå€¼
  useRuleEngine: true,        // ä½¿ç”¨è§„åˆ™å¼•æ“
  detailLevel: 'high'         // è¯¦ç»†çº§åˆ«
}
```

---

### è¾“å‡ºèŠ‚ç‚¹ï¼ˆ1ä¸ªï¼‰

#### 13. WorkpaperGeneratorNode
**ç±»å‹**: `output.workpaper_generator`  
**ç”¨é€”**: åº•ç¨¿ç”Ÿæˆ

**é…ç½®ç¤ºä¾‹**:
```typescript
{
  template: 'standard',       // åº•ç¨¿æ¨¡æ¿
  format: 'pdf',             // è¾“å‡ºæ ¼å¼
  includeEvidence: true,     // åŒ…å«è¯æ®
  watermark: true            // æ·»åŠ æ°´å°
}
```

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå‘ç¥¨å®Œæ•´å¤„ç†æµç¨‹

```typescript
// 1. OCRæå–å‘ç¥¨å›¾ç‰‡æ–‡æœ¬
const ocrNode = registry.getNode('preprocess.ocr_extract');
const ocrResult = await ocrNode.execute(
  { images: invoiceImages },
  {
    provider: 'aliyun',
    minConfidence: 0.8
  },
  context
);

// 2. å­—æ®µæ˜ å°„æ ‡å‡†åŒ–
const mapperNode = registry.getNode('preprocess.field_mapper');
const mapResult = await mapperNode.execute(
  { records: ocrResult.outputs.texts },
  {
    mappings: [
      { sourceField: 'text', targetField: 'invoice_text' }
    ]
  },
  context
);

// 3. å‘ç¥¨æ•°æ®éªŒè¯
const invoiceNode = registry.getNode('input.invoice');
const finalResult = await invoiceNode.execute(
  {},
  {
    data: mapResult.outputs.mapped.data,
    validateFormat: true,
    verifyTax: true
  },
  context
);
```

### ç¤ºä¾‹2ï¼šé“¶è¡Œæµæ°´åˆ†æ

```typescript
// 1. å¯¼å…¥é“¶è¡Œæµæ°´
const bankNode = registry.getNode('input.bankflow');
const flowResult = await bankNode.execute(
  {},
  {
    data: rawBankData,
    bankType: 'icbc',
    categorizeTransactions: true,
    detectAnomalies: true
  },
  context
);

// 2. æ•°æ®æ ‡å‡†åŒ–
const normalizeNode = registry.getNode('preprocess.normalize');
const normalizedResult = await normalizeNode.execute(
  { records: flowResult.outputs.flows },
  {
    dateFormat: 'YYYY-MM-DD',
    amountUnit: 'yuan'
  },
  context
);

// 3. å»é‡
const dedupNode = registry.getNode('preprocess.deduplicate');
const uniqueResult = await dedupNode.execute(
  { records: normalizedResult.outputs.normalized },
  {
    method: 'exact',
    keepStrategy: 'first'
  },
  context
);

// 4. èµ„é‡‘å¾ªç¯æ£€æµ‹
const loopNode = registry.getNode('audit.fund_loop_detect');
const loopResult = await loopNode.execute(
  { flows: uniqueResult.outputs.unique },
  {
    maxLoopLength: 10,
    minLoopAmount: 10000
  },
  context
);
```

### ç¤ºä¾‹3ï¼šå‡­è¯å®¡è®¡

```typescript
// 1. å¯¼å…¥å‡­è¯
const voucherNode = registry.getNode('input.voucher');
const voucherResult = await voucherNode.execute(
  {},
  {
    data: voucherData,
    validateBalance: true,
    checkAttachments: true
  },
  context
);

// 2. AIèˆå¼Šè¯„åˆ†
const aiNode = registry.getNode('ai.fraud_scorer');
const scoreResult = await aiNode.execute(
  {
    records: voucherResult.outputs.vouchers,
    context: additionalContext
  },
  {
    model: 'gpt-4',
    threshold: 0.7
  },
  context
);

// 3. ç”Ÿæˆåº•ç¨¿
const workpaperNode = registry.getNode('output.workpaper_generator');
const finalResult = await workpaperNode.execute(
  {
    records: voucherResult.outputs.vouchers,
    risks: scoreResult.outputs.risks,
    evidence: scoreResult.outputs.evidence
  },
  {
    template: 'standard',
    format: 'pdf'
  },
  context
);
```

---

## é…ç½®æŒ‡å—

### é€šç”¨é…ç½®é¡¹

æ‰€æœ‰èŠ‚ç‚¹éƒ½æ”¯æŒä»¥ä¸‹æ‰§è¡Œä¸Šä¸‹æ–‡é…ç½®ï¼š

```typescript
interface NodeExecutionContext {
  nodeId: string;         // èŠ‚ç‚¹ID
  executionId: string;    // æ‰§è¡ŒID
  userId: string;         // ç”¨æˆ·ID
  logger?: Logger;        // æ—¥å¿—è®°å½•å™¨
  cache?: Cache;          // ç¼“å­˜æ¥å£
  ai?: AIService;         // AIæœåŠ¡
}
```

### æ€§èƒ½é…ç½®

```typescript
// å¯ç”¨ç¼“å­˜
const context = {
  ...baseContext,
  cache: {
    get: async (key) => { /* ... */ },
    set: async (key, value) => { /* ... */ }
  }
};

// é…ç½®AIæœåŠ¡
const context = {
  ...baseContext,
  ai: {
    llm: async (prompt) => { /* ... */ },
    ocr: async (imagePath) => { /* ... */ },
    embedding: async (text) => { /* ... */ }
  }
};
```

---

## æœ€ä½³å®è·µ

### 1. é”™è¯¯å¤„ç†

```typescript
try {
  const result = await node.execute(inputs, config, context);
  
  if (!result.success) {
    console.error('Node execution failed:', result.error);
    // å¤„ç†é”™è¯¯
  }
} catch (error) {
  console.error('Unexpected error:', error);
}
```

### 2. æ—¥å¿—è®°å½•

```typescript
const context = {
  ...baseContext,
  logger: {
    info: (msg) => console.log(`[INFO] ${msg}`),
    warn: (msg) => console.warn(`[WARN] ${msg}`),
    error: (msg) => console.error(`[ERROR] ${msg}`)
  }
};
```

### 3. æ‰¹å¤„ç†

```typescript
// åˆ†æ‰¹å¤„ç†å¤§æ•°æ®é›†
const batchSize = 100;
const batches = [];

for (let i = 0; i < data.length; i += batchSize) {
  batches.push(data.slice(i, i + batchSize));
}

const results = [];
for (const batch of batches) {
  const result = await node.execute(
    {},
    { data: batch },
    context
  );
  results.push(result);
}
```

### 4. èŠ‚ç‚¹ç»„åˆ

```typescript
// åˆ›å»ºå¯å¤ç”¨çš„å¤„ç†æµç¨‹
async function processInvoices(invoiceData) {
  const pipeline = [
    { node: 'preprocess.normalize', config: { dateFormat: 'YYYY-MM-DD' } },
    { node: 'preprocess.deduplicate', config: { method: 'exact' } },
    { node: 'input.invoice', config: { validateFormat: true } }
  ];
  
  let currentData = invoiceData;
  
  for (const step of pipeline) {
    const node = registry.getNode(step.node);
    const result = await node.execute(
      { records: currentData },
      step.config,
      context
    );
    
    if (!result.success) {
      throw new Error(`Pipeline failed at ${step.node}`);
    }
    
    currentData = result.outputs.normalized || result.outputs.unique || result.outputs.invoices;
  }
  
  return currentData;
}
```

---

## æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. ç±»å‹ä¸åŒ¹é…
**é”™è¯¯**: `Type mismatch: expected Records, got Ledger`

**è§£å†³**: æ£€æŸ¥èŠ‚ç‚¹è¾“å…¥è¾“å‡ºç±»å‹ï¼Œä½¿ç”¨æ­£ç¡®çš„æ•°æ®ç±»å‹

```typescript
// âŒ é”™è¯¯
const result = await node.execute(
  { records: ledgerData },  // ledgerDataæ˜¯Ledgerç±»å‹
  config,
  context
);

// âœ… æ­£ç¡®
const result = await node.execute(
  { ledger: ledgerData },  // ä½¿ç”¨æ­£ç¡®çš„è¾“å…¥åç§°
  config,
  context
);
```

#### 2. ç¼ºå°‘å¿…éœ€é…ç½®
**é”™è¯¯**: `Missing required config: data`

**è§£å†³**: æä¾›æ‰€æœ‰å¿…éœ€çš„é…ç½®é¡¹

```typescript
// âŒ é”™è¯¯
const result = await node.execute({}, {}, context);

// âœ… æ­£ç¡®
const result = await node.execute(
  {},
  { data: [...] },  // æä¾›å¿…éœ€çš„dataé…ç½®
  context
);
```

#### 3. OCRæœåŠ¡æœªé…ç½®
**é”™è¯¯**: `OCR service not available`

**è§£å†³**: é…ç½®AIæœåŠ¡ä¸Šä¸‹æ–‡

```typescript
const context = {
  ...baseContext,
  ai: {
    ocr: async (imagePath) => {
      // è°ƒç”¨å®é™…OCRæœåŠ¡
      return await ocrService.extract(imagePath);
    }
  }
};
```

#### 4. æ€§èƒ½é—®é¢˜
**ç—‡çŠ¶**: å¤„ç†å¤§æ•°æ®é›†æ—¶é€Ÿåº¦æ…¢

**è§£å†³**: 
- å¯ç”¨ç¼“å­˜
- ä½¿ç”¨æ‰¹å¤„ç†
- å…³é—­ä¸å¿…è¦çš„éªŒè¯

```typescript
const config = {
  data: largeDataSet,
  validateData: false,  // å¯¹å¤§æ•°æ®é›†å…³é—­éªŒè¯
  batchSize: 50         // ä½¿ç”¨æ‰¹å¤„ç†
};
```

---

## é™„å½•

### A. èŠ‚ç‚¹ç±»å‹é€ŸæŸ¥è¡¨

| èŠ‚ç‚¹ç±»å‹ | åˆ†ç±» | è¾“å…¥ | è¾“å‡º | ç¼“å­˜ | å¹¶è¡Œ | AI |
|---------|------|------|------|------|------|-----|
| input.records | input | - | Records | âœ… | âœ… | - |
| input.voucher | input | - | Records | âœ… | âœ… | - |
| input.contract | input | - | Records | âœ… | âœ… | âœ… |
| input.bankflow | input | - | Records | âœ… | âœ… | - |
| input.invoice | input | - | Records | âœ… | âœ… | âœ… |
| preprocess.ocr_extract | preprocess | Records | Records | âœ… | âœ… | âœ… |
| preprocess.field_mapper | preprocess | Records | Records | âœ… | âœ… | - |
| preprocess.normalize | preprocess | Records | Records | âœ… | âœ… | - |
| preprocess.deduplicate | preprocess | Records | Records | âœ… | - | - |
| audit.three_doc_match | audit | RecordsÃ—3 | Records, RiskSet | âœ… | âœ… | - |
| audit.fund_loop_detect | audit | BankFlow | RiskSet | âœ… | âœ… | - |
| ai.fraud_scorer | ai | Records | RiskSet | âœ… | - | âœ… |
| output.workpaper_generator | output | Multiple | DraftPage | - | - | - |

### B. æ€§èƒ½åŸºå‡†

| èŠ‚ç‚¹ | æ•°æ®é‡ | ç›®æ ‡æ—¶é—´ | å®æµ‹æ—¶é—´ |
|------|--------|----------|----------|
| records_input | 1000è¡Œ | <2s | ~1.5s |
| voucher_input | 500æ¡ | <3s | ~2.2s |
| three_doc_match | 100æ¡ | <5s | ~3.8s |
| ocr_extract | 10å¼ å›¾ | <30s | ~25s |
| deduplicate | 1000è¡Œ | <3s | ~2.5s |

---

**æ‰‹å†Œç‰ˆæœ¬**: 1.0.0  
**æœ€åæ›´æ–°**: 2025-12-02  
**ç»´æŠ¤è€…**: Audit System Team
