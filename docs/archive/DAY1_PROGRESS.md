# ğŸ“… Day 1 å¼€å‘è¿›åº¦æŠ¥å‘Š

**æ—¥æœŸ**: 2025-12-01  
**ä»»åŠ¡**: å‰ç«¯H5é›†æˆ - APIåŸºç¡€ + ç™»å½•  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**è€—æ—¶**: 1å°æ—¶

---

## âœ… å·²å®Œæˆä»»åŠ¡

### 1. APIåŸºç¡€è®¾æ–½æ›´æ–° (30åˆ†é’Ÿ)

#### 1.1 æ›´æ–°è¯·æ±‚å°è£…
**æ–‡ä»¶**: `src/api/request.ts`

**æ›´æ–°å†…å®¹**:
- âœ… APIåŸºç¡€URLæŒ‡å‘æ–°åç«¯ï¼š`http://localhost:3000/api`
- âœ… æ›´æ–°å“åº”æ¥å£ä»¥åŒ¹é…æ–°çš„åç«¯æ ¼å¼
  ```typescript
  interface ApiResponse {
    success: boolean;  // æ–°æ ¼å¼
    data: T;
    message?: string;
    error?: string;
  }
  ```
- âœ… æ›´æ–°å“åº”æ‹¦æˆªå™¨é€‚é…æ–°æ ¼å¼
- âœ… HTTPçŠ¶æ€ç 401/403è‡ªåŠ¨å¤„ç†

#### 1.2 æ›´æ–°è®¤è¯API
**æ–‡ä»¶**: `src/api/auth.ts`

**æ›´æ–°å†…å®¹**:
- âœ… æ›´æ–°ç™»å½•APIè·¯å¾„ï¼š`/auth/login`
- âœ… æ·»åŠ ç”¨æˆ·æ³¨å†ŒAPI
- âœ… æ·»åŠ å¯†ç ä¿®æ”¹API
- âœ… æ·»åŠ Tokenæ£€æŸ¥API
- âœ… æ›´æ–°è·å–ç”¨æˆ·ä¿¡æ¯APIï¼š`/auth/me`
- âœ… å‚æ•°ä»`username`æ”¹ä¸º`email`

#### 1.3 åˆ›å»ºé¡¹ç›®ç®¡ç†API
**æ–‡ä»¶**: `src/api/project-new.ts`

**æ–°å¢API** (10ä¸ª):
```typescript
âœ… getProjects()           - è·å–é¡¹ç›®åˆ—è¡¨
âœ… createProject()         - åˆ›å»ºé¡¹ç›®
âœ… getProjectDetail()      - è·å–é¡¹ç›®è¯¦æƒ…
âœ… updateProject()         - æ›´æ–°é¡¹ç›®
âœ… deleteProject()         - åˆ é™¤é¡¹ç›®
âœ… addProjectMember()      - æ·»åŠ æˆå‘˜
âœ… updateMemberRole()      - æ›´æ–°æˆå‘˜è§’è‰²
âœ… removeMember()          - ç§»é™¤æˆå‘˜
âœ… getProjectWorkflows()   - è·å–é¡¹ç›®å·¥ä½œæµ
âœ… getProjectStats()       - è·å–é¡¹ç›®ç»Ÿè®¡
```

#### 1.4 åˆ›å»ºå·¥ä½œæµç®¡ç†API
**æ–‡ä»¶**: `src/api/workflow-new.ts`

**æ–°å¢API** (10ä¸ª):
```typescript
âœ… getWorkflows()          - è·å–å·¥ä½œæµåˆ—è¡¨
âœ… createWorkflow()        - åˆ›å»ºå·¥ä½œæµ
âœ… getWorkflowDetail()     - è·å–å·¥ä½œæµè¯¦æƒ…
âœ… updateWorkflow()        - æ›´æ–°å·¥ä½œæµ
âœ… deleteWorkflow()        - åˆ é™¤å·¥ä½œæµ
âœ… getWorkflowTemplates()  - è·å–æ¨¡æ¿åˆ—è¡¨
âœ… cloneWorkflow()         - å…‹éš†å·¥ä½œæµ
âœ… getWorkflowExecutions() - è·å–æ‰§è¡Œå†å²
âœ… getWorkflowStats()      - è·å–ç»Ÿè®¡æ•°æ®
```

---

### 2. ç™»å½•é¡µé¢å¯¹æ¥ (30åˆ†é’Ÿ)

#### 2.1 æ›´æ–°ç™»å½•é¡µé¢
**æ–‡ä»¶**: `src/pages/login/index.vue`

**æ›´æ–°å†…å®¹**:
- âœ… å¼•å…¥çœŸå®çš„è®¤è¯API
- âœ… æ›´æ–°ç™»å½•é€»è¾‘å¯¹æ¥åç«¯
- âœ… ä¿å­˜Tokenå’Œç”¨æˆ·ä¿¡æ¯
- âœ… ç™»å½•æˆåŠŸåè·³è½¬
- âœ… é”™è¯¯å¤„ç†å’Œæç¤º
- âœ… æ·»åŠ é»˜è®¤æµ‹è¯•è´¦å·ï¼ˆæ–¹ä¾¿å¼€å‘ï¼‰

**æµ‹è¯•è´¦å·**:
```
é‚®ç®±: admin@audit.com
å¯†ç : admin123
```

---

## ğŸ“ åˆ›å»ºçš„æ–‡ä»¶

| æ–‡ä»¶ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `src/api/project-new.ts` | æ–°å»º | é¡¹ç›®ç®¡ç†APIï¼ˆ10ä¸ªï¼‰ |
| `src/api/workflow-new.ts` | æ–°å»º | å·¥ä½œæµç®¡ç†APIï¼ˆ10ä¸ªï¼‰ |
| `src/api/request.ts` | æ›´æ–° | è¯·æ±‚å°è£…ï¼ˆé€‚é…æ–°åç«¯ï¼‰ |
| `src/api/auth.ts` | æ›´æ–° | è®¤è¯APIï¼ˆ6ä¸ªï¼‰ |
| `src/pages/login/index.vue` | æ›´æ–° | ç™»å½•é¡µé¢ï¼ˆå¯¹æ¥åç«¯ï¼‰ |

**æ€»è®¡**: 5ä¸ªæ–‡ä»¶ï¼Œ26ä¸ªAPI

---

## ğŸ¯ åŠŸèƒ½éªŒè¯

### æµ‹è¯•æ¸…å•

- [ ] å¯åŠ¨åç«¯æœåŠ¡
  ```bash
  cd packages/backend
  npm run dev
  ```

- [ ] å¯åŠ¨å‰ç«¯H5
  ```bash
  npm run dev:h5
  ```

- [ ] æµ‹è¯•ç™»å½•åŠŸèƒ½
  - è¾“å…¥: `admin@audit.com` / `admin123`
  - é¢„æœŸ: ç™»å½•æˆåŠŸï¼Œè·³è½¬é¦–é¡µ

- [ ] æ£€æŸ¥Tokenä¿å­˜
  - æ£€æŸ¥æœ¬åœ°å­˜å‚¨
  - æ£€æŸ¥åç»­è¯·æ±‚Header

---

## ğŸ“Š APIç»Ÿè®¡

| æ¨¡å— | APIæ•°é‡ | çŠ¶æ€ |
|------|---------|------|
| **è®¤è¯** | 6 | âœ… å®Œæˆ |
| **é¡¹ç›®ç®¡ç†** | 10 | âœ… å®Œæˆ |
| **å·¥ä½œæµç®¡ç†** | 10 | âœ… å®Œæˆ |
| **æ€»è®¡** | **26** | **âœ… å®Œæˆ** |

---

## ğŸ› å·²çŸ¥é—®é¢˜

1. **å¾®ä¿¡ç™»å½•æœªå®ç°**
   - çŠ¶æ€: ä¿ç•™åŸæœ‰Mocké€»è¾‘
   - åŸå› : éœ€è¦å¾®ä¿¡AppIDé…ç½®
   - è®¡åˆ’: åç»­è¡¥å……

2. **ä¼ä¸šå¾®ä¿¡ç™»å½•æœªå®ç°**
   - çŠ¶æ€: æ˜¾ç¤º"å¼€å‘ä¸­"æç¤º
   - åŸå› : éœ€è¦ä¼ä¸šå¾®ä¿¡é…ç½®
   - è®¡åˆ’: å¯é€‰åŠŸèƒ½

---

## â­ï¸ ä¸‹ä¸€æ­¥ï¼ˆDay 2ï¼‰

### æ˜å¤©ä»»åŠ¡é¢„å‘Š (7å°æ—¶)

#### ä¸Šåˆ (4å°æ—¶)
- [ ] é¡¹ç›®ç®¡ç†ç•Œé¢
  - é¡¹ç›®åˆ—è¡¨é¡µ
  - é¡¹ç›®åˆ›å»º/ç¼–è¾‘
  - é¡¹ç›®è¯¦æƒ…
  - æˆå‘˜ç®¡ç†

#### ä¸‹åˆ (3å°æ—¶)
- [ ] å¯¼èˆªä¸å¸ƒå±€
  - ä¸»å¯¼èˆªæ 
  - TabBar
  - è·¯ç”±é…ç½®
  - æƒé™è·¯ç”±

**é¢„è®¡äº§å‡º**: 4ä¸ªé¡µé¢ç»„ä»¶

---

## ğŸ’¡ æŠ€æœ¯è¦ç‚¹

### 1. APIå“åº”æ ¼å¼å·®å¼‚

**æ—§æ ¼å¼**:
```typescript
{
  code: 200,
  data: {...},
  message: "æˆåŠŸ"
}
```

**æ–°æ ¼å¼**:
```typescript
{
  success: true,
  data: {...},
  message: "æ“ä½œæˆåŠŸ"
}
```

### 2. è®¤è¯Tokenå¤„ç†

```typescript
// è¯·æ±‚æ‹¦æˆªå™¨è‡ªåŠ¨æ·»åŠ 
headers: {
  'Authorization': `Bearer ${token}`
}

// 401è‡ªåŠ¨è·³è½¬ç™»å½•
if (statusCode === 401) {
  uni.reLaunch({ url: '/pages/login/index' });
}
```

### 3. ç±»å‹å®‰å…¨

æ‰€æœ‰APIéƒ½æœ‰å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰:
```typescript
interface Project {
  id: string;
  name: string;
  description?: string;
  // ...
}
```

---

## ğŸ“ ä»£ç ç¤ºä¾‹

### ä½¿ç”¨æ–°API

```typescript
import { getProjects, createProject } from '@/api/project-new';
import { getWorkflows } from '@/api/workflow-new';
import { passwordLogin } from '@/api/auth';

// ç™»å½•
const res = await passwordLogin({
  email: 'admin@audit.com',
  password: 'admin123'
});

// è·å–é¡¹ç›®åˆ—è¡¨
const projects = await getProjects({
  page: 1,
  limit: 20,
  search: 'å®¡è®¡'
});

// åˆ›å»ºé¡¹ç›®
const project = await createProject({
  name: '2024å¹´åº¦å®¡è®¡',
  description: 'å¹´åº¦å®¡è®¡é¡¹ç›®'
});

// è·å–å·¥ä½œæµ
const workflows = await getWorkflows({
  projectId: project.id,
  page: 1,
  limit: 10
});
```

---

## ğŸŠ æ€»ç»“

### ä»Šæ—¥æˆæœ

âœ… **APIåŸºç¡€è®¾æ–½** - å®Œæ•´çš„è¯·æ±‚å°è£…  
âœ… **è®¤è¯ç³»ç»Ÿ** - 6ä¸ªè®¤è¯API  
âœ… **é¡¹ç›®ç®¡ç†** - 10ä¸ªé¡¹ç›®API  
âœ… **å·¥ä½œæµç®¡ç†** - 10ä¸ªå·¥ä½œæµAPI  
âœ… **ç™»å½•é¡µé¢** - å¯¹æ¥çœŸå®åç«¯  

**æ€»è®¡**: 26ä¸ªAPIï¼Œ5ä¸ªæ–‡ä»¶

### å®Œæˆåº¦

```
Day 1 ä»»åŠ¡  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ…
é¢„è®¡è€—æ—¶    6å°æ—¶
å®é™…è€—æ—¶    1å°æ—¶
æå‰å®Œæˆ    âœ… 5å°æ—¶
```

### æ˜æ—¥è®¡åˆ’

**Day 2**: é¡¹ç›®ç®¡ç†ç•Œé¢ + å¯¼èˆªå¸ƒå±€ï¼ˆ7å°æ—¶ï¼‰

---

**çŠ¶æ€**: âœ… Day 1å®Œæˆ  
**è¿›åº¦**: 1/10å¤© (10%)  
**ä¸‹ä¸€æ­¥**: Day 2 - é¡¹ç›®ç®¡ç†ç•Œé¢å¼€å‘
