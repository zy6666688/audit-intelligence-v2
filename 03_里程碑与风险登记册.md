# 🎯 审计数智析项目 - 里程碑与风险登记册

**项目名称**: 审计数智析生产就绪改造项目  
**文档版本**: v1.0  
**最后更新**: 2025-12-03

---

## 第一部分：里程碑检查点

### 1. 里程碑总览

| 里程碑ID | 里程碑名称 | 计划日期 | 完成标志 | 关键程度 | 负责人 |
|---------|-----------|---------|---------|---------|--------|
| **M0** | 项目启动 | Week 1 Day 1 | 项目计划获批 | 🔴 Critical | PM |
| **M1** | 安全加固完成 | Week 1 Day 2 | 通过安全测试 | 🔴 Critical | SEC/OPS |
| **M2** | 编辑器MVP | Week 1 Day 5 | 可创建简单工作流 | 🔴 Critical | FE |
| **M3** | Week1交付 | Week 1 End | 基础可用 | 🔴 Critical | PM |
| **M4** | 输入节点完成 | Week 2 End | 8个节点测试通过 | 🟠 High | BE2 |
| **M5** | AI节点完成 | Week 3 Day 3 | AI准确率>85% | 🔴 Critical | AI |
| **M6** | 审计节点完成 | Week 3 End | 8个节点测试通过 | 🟠 High | BE1 |
| **M7** | 输出节点完成 | Week 4 End | 底稿报告可生成 | 🔴 Critical | BE1 |
| **M8** | 性能达标 | Week 5 End | P95<500ms | 🟠 High | BE1/OPS |
| **M9** | 监控就绪 | Week 6 Day 2 | 告警测试通过 | 🟡 Medium | OPS |
| **M10** | 测试完成 | Week 6 End | 无P0/P1缺陷 | 🔴 Critical | QA |
| **M11** | 文档完成 | Week 7 End | 文档覆盖100% | 🟠 High | DOC |
| **M12** | 生产上线 | Week 8 End | 运行7天无P0故障 | 🔴 Critical | OPS |

### 2. 详细里程碑定义

---

#### M0: 项目启动 (Week 1 Day 1)

**交付物**:
- [x] 项目章程文档
- [x] 项目计划文档（本文档）
- [x] WBS工作分解
- [x] RACI责任矩阵
- [x] 风险登记册
- [x] 团队组建完成
- [x] 项目启动会召开

**验收标准**:
```
✅ 项目计划获得PO批准
✅ 所有团队成员到位
✅ 项目环境（Git/沟通工具）就绪
✅ 全员理解项目目标和范围
```

**风险**:
- ⚠️ 人员未到位 - 中等概率
- ⚠️ 需求理解不一致 - 低概率

---

#### M1: 安全加固完成 (Week 1 Day 2)

**交付物**:
- [x] HTTPS已启用
- [x] SSL证书已配置
- [x] 敏感数据AES加密
- [x] 自动备份脚本运行
- [x] 速率限制已实施
- [x] 审计日志增强
- [x] 安全测试报告

**验收标准**:
```
✅ curl https://domain.com 返回200且证书有效
✅ 数据库敏感字段为密文
✅ 备份文件存在且可恢复
✅ API速率限制触发测试通过
✅ 审计日志记录数据变更前后值
✅ 无高危安全漏洞
```

**测试命令**:
```bash
# HTTPS测试
curl -I https://your-domain.com

# 备份测试
ls -lh ./backups/ | grep $(date +%Y-%m-%d)

# 速率限制测试
for i in {1..10}; do curl -X POST http://localhost:3002/api/auth/login; done

# 数据库加密验证
psql -U postgres -d auditdb -c "SELECT customer_name FROM projects LIMIT 1;"
# 应显示密文
```

**风险**:
- 🔴 SSL证书申请延迟 - 高影响
- ⚠️ 加密性能问题 - 中等影响

**应急方案**:
- 如证书延迟，使用自签名证书先完成开发

---

#### M2: 工作流编辑器MVP (Week 1 Day 5)

**交付物**:
- [x] 节点可拖拽到画布
- [x] 节点可在画布内拖动
- [x] 节点可连线
- [x] 节点可配置参数
- [x] 工作流可保存和加载
- [x] E2E测试通过

**验收标准**:
```
✅ 审计师可在5分钟内创建包含3个节点的工作流
✅ 工作流保存后重新加载显示正确
✅ 连线验证正确（类型匹配）
✅ 参数配置保存正确
✅ 无明显UI/UX问题
```

**演示场景**:
```
场景：创建三单匹配工作流
1. 从节点面板拖拽"records_input"到画布
2. 配置参数（设置字段映射）
3. 拖拽"three_doc_match"节点
4. 连接两个节点
5. 点击保存
6. 刷新页面，工作流正确显示
```

**风险**:
- 🔴 技术选型问题（VueFlow vs X6）- 高影响
- ⚠️ 性能问题（大工作流卡顿）- 中等影响

**应急方案**:
- 如技术选型有问题，快速切换到备选方案

---

#### M3: Week 1 交付 (Week 1 End)

**综合验收**:
```
✅ M1: 安全加固完成 ✓
✅ M2: 编辑器MVP完成 ✓
✅ 文件上传界面可用
✅ 系统基础可用（可内测）
✅ 无P0缺陷
```

**里程碑评审会**:
- 时间：Week 1 Friday 下午
- 参与者：全员
- 议程：
  1. 演示安全措施
  2. 演示工作流编辑器
  3. 演示文件上传
  4. 问题讨论
  5. Week 2计划确认

---

#### M4: 输入节点完成 (Week 2 End)

**交付物**:
- [x] 8个输入节点开发完成
- [x] 单元测试覆盖率>80%
- [x] 节点使用文档
- [x] 集成测试通过

**节点清单**:
```
1. voucher_input      - 凭证导入 ✓
2. invoice_input      - 发票导入 ✓
3. bankflow_input     - 银行流水导入 ✓
4. contract_input     - 合同导入 ✓
5. excel_import       - Excel通用导入 ✓
6. pdf_parser         - PDF解析 ✓
7. ocr_extract        - OCR识别 ✓
8. erp_connector      - ERP对接（可选）
```

**验收标准**:
```
✅ 每个节点可独立执行成功
✅ 支持批量导入（Excel 1000行<10s）
✅ 错误处理友好（格式错误有明确提示）
✅ 字段映射智能推荐
```

**风险**:
- ⚠️ OCR识别准确率不足 - 中等影响
- ⚠️ Excel解析性能问题 - 中等影响

---

#### M5: AI节点完成 (Week 3 Day 3)

**交付物**:
- [x] AI发票真伪识别节点 ⭐
- [x] 舞弊风险评分节点 ⭐
- [x] 关联方识别节点
- [x] 合同风险识别节点
- [x] 异常交易检测节点
- [x] AI模型准确率报告

**验收标准**:
```
✅ AI发票真伪识别准确率 >85%
✅ 舞弊风险评分 F1-Score >0.75
✅ 关联方识别召回率 >80%
✅ 响应时间：单条<500ms，批量100条<30s
✅ 错误率 <5%
```

**测试数据集**:
```
发票真伪：500张真实发票 + 100张伪造发票
舞弊风险：50个真实案例（25个舞弊 + 25个正常）
关联方：100个企业关系网络
```

**风险**:
- 🔴 AI模型准确率不达标 - 高影响
- 🔴 第三方API不稳定 - 高影响
- ⚠️ 成本超预算 - 中等影响

**应急方案**:
- 如AI准确率不足，降级到规则引擎
- 如API不稳定，切换备用服务商

---

#### M6: 审计程序节点完成 (Week 3 End)

**交付物**:
- [x] 8个审计节点开发完成
- [x] 单元测试和集成测试
- [x] 节点文档

**节点清单**:
```
1. four_flow_match      - 四流一致性 ⭐
2. fund_loop_detect     - 资金循环检测 ⭐
3. bank_reconciliation  - 银行对账
4. aging_analysis       - 账龄分析
5. voucher_test         - 凭证测试
6. cut_off_test         - 截止性测试
7. substantive_test     - 实质性测试
8. related_party_check  - 关联方交易检查
```

**验收标准**:
```
✅ 四流一致性：1000条数据<15s
✅ 资金循环：检测出环路并标记
✅ 所有节点测试覆盖率>80%
```

---

#### M7: 输出节点完成 (Week 4 End)

**交付物**:
- [x] 底稿自动生成节点 ⭐⭐⭐
- [x] 审计报告生成节点 ⭐⭐⭐
- [x] 图表可视化节点
- [x] Excel导出节点
- [x] 模板库（5+个模板）

**验收标准**:
```
✅ 底稿生成：符合审计准则格式
✅ 报告生成：包含所有必要要素
✅ 支持Word和Excel格式
✅ 生成速度：<5s
✅ 电子签章集成（如可行）
```

**测试场景**:
```
场景：完整审计流程
1. 导入数据（凭证、发票、流水）
2. 执行AI识别
3. 执行四流一致性检查
4. 生成底稿（Excel）
5. 生成审计报告（Word）
6. 查看生成的文档格式正确
```

**风险**:
- 🔴 模板格式不符合审计标准 - 高影响
- ⚠️ 电子签章集成困难 - 中等影响

---

#### M8: 性能达标 (Week 5 End)

**交付物**:
- [x] Redis缓存上线
- [x] 消息队列上线
- [x] 数据库优化完成
- [x] 前端优化完成
- [x] CDN配置
- [x] 性能测试报告

**验收标准**:
```
✅ API响应时间 P95 <500ms
✅ API响应时间 P99 <1000ms
✅ 支持100并发用户
✅ 数据库查询 <100ms
✅ 前端首屏加载 <3s
✅ 内存使用稳定 <2GB
```

**性能基准**:
| 指标 | 目标值 | 当前值 | 状态 |
|-----|--------|--------|------|
| API P95响应时间 | <500ms | ___ | ⬜ |
| API P99响应时间 | <1000ms | ___ | ⬜ |
| 并发用户数 | >100 | ___ | ⬜ |
| DB查询时间 | <100ms | ___ | ⬜ |
| 前端加载时间 | <3s | ___ | ⬜ |

**压测命令**:
```bash
# 使用Apache Bench
ab -n 1000 -c 100 http://localhost:3002/api/projects

# 使用k6
k6 run performance-test.js
```

---

#### M9: 监控体系就绪 (Week 6 Day 2)

**交付物**:
- [x] Prometheus部署
- [x] Grafana仪表盘
- [x] 告警规则配置
- [x] 日志系统
- [x] 健康检查端点

**验收标准**:
```
✅ Grafana显示实时指标
✅ 告警规则测试通过（手动触发）
✅ 日志可查询和分析
✅ /health端点正常
```

**监控指标**:
```
系统指标：
- CPU使用率
- 内存使用率
- 磁盘使用率
- 网络流量

应用指标：
- API请求数
- API响应时间
- API错误率
- 活跃用户数
- 工作流执行数
- 工作流成功率

数据库指标：
- 连接数
- 慢查询数
- 查询延迟
```

---

#### M10: 测试完成 (Week 6 End)

**交付物**:
- [x] 单元测试覆盖率>60%
- [x] 集成测试完成
- [x] E2E测试完成
- [x] 安全测试完成
- [x] 性能测试完成
- [x] UAT测试完成
- [x] 测试报告

**验收标准**:
```
✅ 无P0缺陷
✅ P1缺陷<5个
✅ P2缺陷<20个
✅ 单元测试通过率100%
✅ E2E测试通过率>95%
✅ 安全扫描无高危漏洞
```

**缺陷等级定义**:
```
P0 - 阻断性：系统无法使用
P1 - 严重：核心功能不可用
P2 - 重要：影响用户体验
P3 - 一般：小问题，不影响使用
P4 - 建议：优化建议
```

---

#### M11: 文档完成 (Week 7 End)

**交付物**:
- [x] 用户操作手册
- [x] 节点使用手册
- [x] 部署运维手册
- [x] API文档
- [x] 合规文档
- [x] 培训视频

**验收标准**:
```
✅ 文档覆盖所有功能
✅ 包含至少10个典型案例
✅ 培训视频时长>30分钟
✅ FAQ包含20+个问题
✅ 文档可导出PDF
```

---

#### M12: 生产上线 (Week 8 End)

**交付物**:
- [x] 生产环境部署
- [x] 数据迁移完成
- [x] 用户培训完成
- [x] 7天稳定运行

**验收标准**:
```
✅ 生产环境运行正常
✅ 7天内无P0故障
✅ 7天内P1故障<2次
✅ 用户可正常使用
✅ 至少3个真实审计项目完成
```

**上线检查清单**:
- [ ] 所有测试通过
- [ ] 文档完整
- [ ] 备份恢复测试通过
- [ ] 监控告警正常
- [ ] 用户培训完成
- [ ] 应急预案准备
- [ ] 回滚方案准备

---

## 第二部分：风险登记册

### 1. 风险分类

```
风险维度：
├─ 技术风险
├─ 资源风险
├─ 进度风险
├─ 质量风险
├─ 安全风险
└─ 外部风险
```

### 2. 风险评估矩阵

```
影响 vs 概率矩阵

影响程度
 高 │ 🟡M │ 🟠H │ 🔴C │
    │─────┼─────┼─────│
 中 │ 🟢L │ 🟡M │ 🟠H │
    │─────┼─────┼─────│
 低 │ 🟢L │ 🟢L │ 🟡M │
    └─────┴─────┴─────┘
       低    中    高
         概率

🔴 Critical - 需立即行动
🟠 High - 高度关注
🟡 Medium - 定期监控
🟢 Low - 接受风险
```

### 3. 风险登记表

---

#### R001: 技术选型失败（工作流编辑器）

| 属性 | 值 |
|-----|---|
| **风险类别** | 技术风险 |
| **风险等级** | 🔴 Critical |
| **概率** | 中 (30%) |
| **影响** | 高 - 可能延期2周 |
| **触发条件** | VueFlow性能不达标或功能不足 |
| **影响范围** | M2, M3 |
| **责任人** | TL, FE |

**风险描述**:
VueFlow或AntV X6可能无法满足复杂工作流编辑需求，导致需要重新选型或自研。

**缓解措施**:
- ✅ Week 1 Day 1完成POC验证
- ✅ 准备备选方案（AntV X6）
- ✅ 评估自研成本和时间

**应急计划**:
如技术选型失败：
1. 立即启动备选方案
2. 如需自研，申请2周延期
3. 缩减功能范围（先实现核心功能）

**监控指标**:
- POC完成时间
- 性能测试结果

---

#### R002: AI模型准确率不达标

| 属性 | 值 |
|-----|---|
| **风险类别** | 技术风险 |
| **风险等级** | 🔴 Critical |
| **概率** | 高 (50%) |
| **影响** | 高 - 系统核心价值受损 |
| **触发条件** | AI识别准确率<85% |
| **影响范围** | M5 |
| **责任人** | AI |

**风险描述**:
AI发票真伪识别、舞弊评分等核心AI功能准确率不达标，影响系统可用性。

**缓解措施**:
- ✅ 提前准备标注数据集
- ✅ 调研多个AI服务商（备选方案）
- ✅ 设计规则引擎作为降级方案
- ✅ Week 2完成初步模型训练

**应急计划**:
如准确率不达标：
1. 切换到规则引擎（规则+简单ML）
2. 降低准确率要求，增加人工复核
3. 使用第三方成熟AI服务

**监控指标**:
- 模型训练进度
- 测试集准确率

---

#### R003: 关键人员离职

| 属性 | 值 |
|-----|---|
| **风险类别** | 资源风险 |
| **风险等级** | 🟠 High |
| **概率** | 低 (15%) |
| **影响** | 高 - 可能延期1-2周 |
| **触发条件** | 核心开发人员离职 |
| **影响范围** | 全项目 |
| **责任人** | PM |

**风险描述**:
后端负责人、AI工程师等关键人员突然离职，导致项目延期。

**缓解措施**:
- ✅ 代码Review确保知识共享
- ✅ 关键模块双人备份
- ✅ 文档及时更新
- ✅ 定期沟通，了解团队稳定性

**应急计划**:
如关键人员离职：
1. 立即内部调配人员
2. 考虑外部招聘或外包
3. 调整项目范围和进度

---

#### R004: 第三方服务不稳定

| 属性 | 值 |
|-----|---|
| **风险类别** | 外部风险 |
| **风险等级** | 🟠 High |
| **概率** | 中 (40%) |
| **影响** | 中 - 影响AI功能 |
| **触发条件** | OCR、AI API服务不稳定 |
| **影响范围** | M5 |
| **责任人** | AI, BE1 |

**风险描述**:
依赖的OCR、AI大模型、税务局API等第三方服务不稳定，导致功能不可用。

**缓解措施**:
- ✅ 准备多个服务商备选
- ✅ 实现熔断和降级机制
- ✅ 本地缓存减少依赖
- ✅ 签订SLA协议

**应急计划**:
如服务不稳定：
1. 立即切换备用服务商
2. 启用降级方案（规则引擎）
3. 增加重试和容错机制

---

#### R005: 性能不达标

| 属性 | 值 |
|-----|---|
| **风险类别** | 质量风险 |
| **风险等级** | 🟠 High |
| **概率** | 中 (40%) |
| **影响** | 中 - 影响用户体验 |
| **触发条件** | API P95>500ms或并发<100 |
| **影响范围** | M8 |
| **责任人** | BE1, OPS |

**风险描述**:
系统性能不达标，无法支持预期的并发用户数。

**缓解措施**:
- ✅ Week 3开始性能测试
- ✅ 提前集成Redis缓存
- ✅ 数据库索引优化
- ✅ 实施消息队列

**应急计划**:
如性能不达标：
1. 增加服务器资源
2. 优化慢查询
3. 实施更激进的缓存策略
4. 限制并发用户数

---

#### R006: 安全漏洞

| 属性 | 值 |
|-----|---|
| **风险类别** | 安全风险 |
| **风险等级** | 🔴 Critical |
| **概率** | 中 (30%) |
| **影响** | 高 - 无法上线 |
| **触发条件** | 发现高危安全漏洞 |
| **影响范围** | M12 |
| **责任人** | SEC, TL |

**风险描述**:
安全测试发现高危漏洞（SQL注入、XSS、CSRF等），必须修复才能上线。

**缓解措施**:
- ✅ Week 1完成安全加固
- ✅ 使用成熟框架（ORM、JWT等）
- ✅ 代码Review关注安全
- ✅ Week 6进行渗透测试

**应急计划**:
如发现高危漏洞：
1. 立即修复
2. 延期上线
3. 加强安全测试

---

#### R007: 需求变更

| 属性 | 值 |
|-----|---|
| **风险类别** | 进度风险 |
| **风险等级** | 🟡 Medium |
| **概率** | 高 (60%) |
| **影响** | 中 - 可能延期1周 |
| **触发条件** | PO提出重大需求变更 |
| **影响范围** | 多个里程碑 |
| **责任人** | PM, PO |

**风险描述**:
项目中途PO提出重大需求变更，影响进度。

**缓解措施**:
- ✅ 需求冻结机制（Week 2后只接受P0缺陷）
- ✅ 变更管理流程
- ✅ 评估变更影响
- ✅ 预留10%缓冲时间

**应急计划**:
如需求变更：
1. 评估影响和优先级
2. 与PO协商延期或缩减范围
3. 调整项目计划

---

#### R008: 测试不充分

| 属性 | 值 |
|-----|---|
| **风险类别** | 质量风险 |
| **风险等级** | 🟠 High |
| **概率** | 中 (40%) |
| **影响** | 高 - 生产环境故障 |
| **触发条件** | 测试覆盖率<60% |
| **影响范围** | M10, M12 |
| **责任人** | QA, TL |

**风险描述**:
测试不充分导致生产环境出现大量bug。

**缓解措施**:
- ✅ 每周测试覆盖率报告
- ✅ 自动化测试优先
- ✅ 关键路径必须E2E测试
- ✅ UAT测试由真实审计师参与

**应急计划**:
如测试不充分：
1. 增加测试人力
2. 延长测试周期
3. 缩小上线范围（灰度发布）

---

#### R009: 数据库迁移失败

| 属性 | 值 |
|-----|---|
| **风险类别** | 技术风险 |
| **风险等级** | 🟠 High |
| **概率** | 低 (20%) |
| **影响** | 高 - 上线延期 |
| **触发条件** | 生产数据迁移失败 |
| **影响范围** | M12 |
| **责任人** | BE1, OPS |

**风险描述**:
数据库Schema变更或数据迁移失败，导致无法上线。

**缓解措施**:
- ✅ 使用Prisma Migrate管理Schema
- ✅ 提前在测试环境演练
- ✅ 准备回滚脚本
- ✅ 备份所有数据

**应急计划**:
如迁移失败：
1. 立即回滚
2. 分析失败原因
3. 修复后重新迁移
4. 准备数据修复脚本

---

#### R010: 文档不完整

| 属性 | 值 |
|-----|---|
| **风险类别** | 质量风险 |
| **风险等级** | 🟡 Medium |
| **概率** | 高 (50%) |
| **影响** | 中 - 用户无法使用 |
| **触发条件** | 文档覆盖率<80% |
| **影响范围** | M11 |
| **责任人** | DOC |

**风险描述**:
文档不完整，用户学习成本高，满意度低。

**缓解措施**:
- ✅ 开发过程中同步更新文档
- ✅ 文档Review机制
- ✅ 至少10个典型案例
- ✅ 录制培训视频

**应急计划**:
如文档不完整：
1. 增加文档人力
2. 开发人员协助编写
3. 提供在线培训补充

---

### 4. 风险监控仪表盘

```
风险状态总览（每周更新）

周次   新增风险  已关闭  当前活跃  Critical  High  Medium  Low
──────────────────────────────────────────────────────────
Week 1    10       0       10         3       4      2     1
Week 2    2        1       11         2       5      3     1
Week 3    1        2       10         2       4      3     1
Week 4    0        3       7          1       3      2     1
Week 5    1        1       7          1       3      2     1
Week 6    0        2       5          0       2      2     1
Week 7    0        1       4          0       1      2     1
Week 8    0        4       0          0       0      0     0
```

---

## 第三部分：质量检查点

### 1. 每周质量关（Quality Gate）

| Week | 质量关 | 通过标准 | 不通过后果 |
|------|--------|---------|-----------|
| Week 1 | QG1: 基础可用 | 编辑器可用 + 安全达标 | 停止Week 2开发 |
| Week 2 | QG2: 输入可用 | 8个输入节点测试通过 | 停止Week 3开发 |
| Week 3 | QG3: AI可用 | AI准确率>85% | 降级到规则引擎 |
| Week 4 | QG4: 输出可用 | 底稿报告可生成 | 无法进入性能优化 |
| Week 5 | QG5: 性能达标 | P95<500ms | 无法进入测试阶段 |
| Week 6 | QG6: 测试通过 | 无P0缺陷 | 无法上线 |
| Week 7 | QG7: 文档完整 | 文档覆盖100% | 延期上线 |
| Week 8 | QG8: 生产稳定 | 7天无P0故障 | 项目未完成 |

### 2. 每日健康检查

```
每日检查项（15分钟站会）
✓ 昨日计划完成情况
✓ 今日计划和目标
✓ 遇到的阻塞问题
✓ 需要的帮助
✓ 风险预警
```

---

**文档创建日期**: 2025-12-03  
**下一步**: 查看可行性评估报告
