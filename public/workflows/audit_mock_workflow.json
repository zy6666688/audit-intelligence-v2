{
  "workflow_id": "audit_demo_mock_v1",
  "name": "审计示例工作流（完整版）",
  "description": "文件上传→加载→列映射→空值清洗→范围校验→预览与图表（完整连接）",
  "created_at": "2025-12-14T20:00:00.000000",
  "nodes": [
    {
      "id": "n1",
      "type": "FileUploadNode",
      "name": "上传文件",
      "params": {
        "file_path": "invoice_demo.xlsx",
        "workflow_id": "audit_demo_mock_v1"
      },
      "position": { "x": 100, "y": 200 }
    },
    {
      "id": "n2",
      "type": "ExcelLoader",
      "name": "加载Excel",
      "params": {
        "sheet_name": "Sheet1",
        "nrows": 5000
      },
      "position": { "x": 300, "y": 200 }
    },
    {
      "id": "n3",
      "type": "ColumnMapperNode",
      "name": "标准化列名",
      "params": {
        "mapping_json": "{\"发票号码\":\"invoice_no\",\"金额\":\"amount\",\"日期\":\"date\"}",
        "keep_other_columns": false,
        "strict_mode": true
      },
      "position": { "x": 500, "y": 200 }
    },
    {
      "id": "n4",
      "type": "NullValueCleanerNode",
      "name": "空值清洗",
      "params": {
        "target_columns": "amount,date",
        "strategy": "drop_rows"
      },
      "position": { "x": 700, "y": 200 }
    },
    {
      "id": "n5",
      "type": "ExcelColumnValidator",
      "name": "金额范围校验",
      "params": {
        "column_name": "amount",
        "min_value": 0,
        "max_value": 20000,
        "include_bounds": true
      },
      "position": { "x": 900, "y": 200 }
    },
    {
      "id": "n7",
      "type": "DataFrameToTableNode",
      "name": "异常预览",
      "params": {
        "max_rows": 20,
        "include_index": false
      },
      "position": { "x": 900, "y": 380 }
    },
    {
      "id": "n8",
      "type": "QuickPlotNode",
      "name": "异常分布图",
      "params": {
        "chart_type": "bar",
        "x_column": "invoice_no",
        "y_column": "amount",
        "title": "异常金额分布",
        "legend_show": true
      },
      "position": { "x": 1100, "y": 380 }
    }
  ],
  "edges": [
    {
      "from": "n1",
      "to": "n2",
      "from_slot": 1,
      "to_slot": 1,
      "comment": "FileUploadNode.storage_path -> ExcelLoader.storage_path"
    },
    {
      "from": "n2",
      "to": "n3",
      "from_slot": 0,
      "to_slot": 0,
      "comment": "ExcelLoader.dataframe -> ColumnMapperNode.dataframe"
    },
    {
      "from": "n3",
      "to": "n4",
      "from_slot": 0,
      "to_slot": 0,
      "comment": "ColumnMapperNode.cleaned_df -> NullValueCleanerNode.dataframe"
    },
    {
      "from": "n4",
      "to": "n5",
      "from_slot": 0,
      "to_slot": 0,
      "comment": "NullValueCleanerNode.cleaned_df -> ExcelColumnValidator.dataframe"
    },
    {
      "from": "n5",
      "to": "n7",
      "from_slot": 0,
      "to_slot": 0,
      "comment": "ExcelColumnValidator.outliers (DATAFRAME) -> DataFrameToTableNode.dataframe"
    },
    {
      "from": "n5",
      "to": "n8",
      "from_slot": 0,
      "to_slot": 0,
      "comment": "ExcelColumnValidator.outliers (DATAFRAME) -> QuickPlotNode.dataframe"
    }
  ]
}
