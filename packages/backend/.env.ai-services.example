# ====================================================================
# AI服务配置文件 - 演示用途
# ====================================================================
# ⚠️ 重要提示：
# 1. 此文件包含示例密钥，仅供演示API格式使用
# 2. 生产环境请替换为真实的API密钥
# 3. 真实密钥请保存在 .env.ai-services（已加入.gitignore）
# 4. 切勿将真实密钥提交到Git仓库
# ====================================================================

# --------------------------------------------------------------------
# 当前使用的AI服务提供商
# --------------------------------------------------------------------
# 可选值: qwen (通义千问), ernie (文心一言), chatgpt, hunyuan (混元)
AI_PROVIDER=qwen

# --------------------------------------------------------------------
# 阿里云通义千问 API (推荐 - 限时免费)
# --------------------------------------------------------------------
# 申请地址: https://dashscope.console.aliyun.com/
# 文档: https://help.aliyun.com/zh/dashscope/

# API密钥（示例格式）
QWEN_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# API端点（通常不需要修改）
QWEN_API_ENDPOINT=https://dashscope.aliyuncs.com/api/v1

# 使用的模型（可选模型见下方说明）
QWEN_MODEL=qwen-plus

# 可用模型列表：
# - qwen-turbo: 快速响应，适合简单任务
# - qwen-plus: 平衡性能和成本（推荐）
# - qwen-max: 最强性能，适合复杂任务
# - qwen-vl-plus: 支持图像理解（发票OCR可用）

# --------------------------------------------------------------------
# 百度文心一言 API (备选)
# --------------------------------------------------------------------
# 申请地址: https://cloud.baidu.com/product/wenxinworkshop
# 文档: https://cloud.baidu.com/doc/WENXINWORKSHOP/

# API凭证（示例格式）
ERNIE_API_KEY=AbCdEfGhIjKlMnOpQrStUvWxYz123456
ERNIE_SECRET_KEY=1234567890abcdefghijklmnopqrstuv

# API端点
ERNIE_API_ENDPOINT=https://aip.baidubce.com

# 使用的模型
ERNIE_MODEL=ernie-bot-3.5

# 可用模型列表：
# - ernie-bot-turbo: 快速响应
# - ernie-bot-3.5: 标准模型（推荐）
# - ernie-bot-4.0: 最强性能

# --------------------------------------------------------------------
# OpenAI ChatGPT API (备选)
# --------------------------------------------------------------------
# 申请地址: https://platform.openai.com/api-keys
# 文档: https://platform.openai.com/docs/api-reference

# API密钥（示例格式）
OPENAI_API_KEY=sk-proj-abcdefghijklmnopqrstuvwxyz1234567890

# API端点（可使用代理或第三方端点）
OPENAI_API_ENDPOINT=https://api.openai.com/v1

# 使用的模型
OPENAI_MODEL=gpt-3.5-turbo

# 可用模型列表：
# - gpt-3.5-turbo: 快速且经济
# - gpt-4-turbo: 更强性能
# - gpt-4: 最强性能

# --------------------------------------------------------------------
# 腾讯混元 API (备选)
# --------------------------------------------------------------------
# 申请地址: https://cloud.tencent.com/product/hunyuan
# 文档: https://cloud.tencent.com/document/product/1729

# API凭证（示例格式）
HUNYUAN_SECRET_ID=your_hunyuan_secret_id_here
HUNYUAN_SECRET_KEY=your_hunyuan_secret_key_here

# API端点
HUNYUAN_API_ENDPOINT=https://hunyuan.tencentcloudapi.com

# 使用的模型
HUNYUAN_MODEL=hunyuan-standard

# --------------------------------------------------------------------
# OCR服务配置
# --------------------------------------------------------------------
# 使用的OCR提供商
# 可选值: aliyun (阿里云), baidu (百度), tencent (腾讯)
OCR_PROVIDER=aliyun

# 阿里云OCR (推荐)
ALIYUN_OCR_ACCESS_KEY_ID=LTAI5xxxxxxxxxxxxxxxxxx
ALIYUN_OCR_ACCESS_KEY_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
ALIYUN_OCR_ENDPOINT=https://ocr-api.cn-shanghai.aliyuncs.com

# 百度OCR (备选)
BAIDU_OCR_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxx
BAIDU_OCR_SECRET_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# 腾讯OCR (备选)
TENCENT_OCR_SECRET_ID=your_tencent_ocr_secret_id_here
TENCENT_OCR_SECRET_KEY=your_tencent_ocr_secret_key_here

# --------------------------------------------------------------------
# AI功能开关
# --------------------------------------------------------------------
# 发票真伪识别
ENABLE_INVOICE_VERIFICATION=true

# 舞弊风险评分
ENABLE_FRAUD_DETECTION=true

# 关联方识别
ENABLE_RELATED_PARTY_DETECTION=true

# 合同风险检测
ENABLE_CONTRACT_RISK_DETECTION=true

# 异常交易检测
ENABLE_ANOMALY_DETECTION=true

# --------------------------------------------------------------------
# 性能配置
# --------------------------------------------------------------------
# 请求超时（秒）
AI_REQUEST_TIMEOUT=30

# 最大重试次数
AI_MAX_RETRIES=3

# 并发请求数
AI_MAX_CONCURRENT_REQUESTS=5

# 速率限制（每分钟请求数）
AI_RATE_LIMIT_PER_MINUTE=60

# --------------------------------------------------------------------
# 成本控制
# --------------------------------------------------------------------
# 单次调用最大token数
AI_MAX_TOKENS=2000

# 每日最大调用次数（防止超支）
AI_MAX_CALLS_PER_DAY=1000

# 每月预算上限（元）
AI_MONTHLY_BUDGET=500

# --------------------------------------------------------------------
# 日志配置
# --------------------------------------------------------------------
# 是否记录AI请求日志
AI_ENABLE_LOGGING=true

# 是否记录详细的请求响应内容
AI_LOG_DETAILED_CONTENT=false

# --------------------------------------------------------------------
# 降级策略
# --------------------------------------------------------------------
# AI服务不可用时是否使用规则引擎降级
ENABLE_AI_FALLBACK=true

# 规则引擎置信度阈值
RULE_ENGINE_CONFIDENCE_THRESHOLD=0.7

# ====================================================================
# 使用说明
# ====================================================================
# 
# 1. 申请API密钥：
#    - 阿里云通义千问（推荐）：https://dashscope.console.aliyun.com/
#    - 百度文心一言：https://cloud.baidu.com/product/wenxinworkshop
#    - OpenAI: https://platform.openai.com/api-keys
#
# 2. 复制此文件：
#    cp .env.ai-services.example .env.ai-services
#
# 3. 填写真实的API密钥
#
# 4. 切换AI服务商：
#    修改 AI_PROVIDER 的值即可，支持热切换
#
# 5. 测试API连接：
#    npm run test:ai-connection
#
# ====================================================================
# 安全提示
# ====================================================================
# 
# ✓ 将 .env.ai-services 添加到 .gitignore
# ✓ 定期轮换API密钥
# ✓ 为不同环境使用不同的密钥
# ✓ 监控API使用量和成本
# ✓ 设置调用限额防止超支
# 
# ====================================================================
